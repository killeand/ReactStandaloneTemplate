<!DOCTYPE html>
<html lang="en">
    <head>
        <title>React Standalone Template</title>
        <meta charset="UTF-8" />

        <link rel="stylesheet" href="https://unpkg.com/bootstrap@4.6.0/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-icons/font/bootstrap-icons.css" />
        <style media="all">
            .title {
                border-left: 1px solid #000000;
                border-bottom: 3px solid #000000;
                border-radius: 5px;
                background-color: #e0e0e0;
                padding-left: 0.2em;
                font-size: 1.5em;
                font-weight: bold;
            }
        </style>

        <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <script crossorigin src="https://unpkg.com/react/umd/react.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/jquery@3.5.1/dist/jquery.slim.min.js"></script>
        <script crossorigin src="https://unpkg.com/@popperjs/core/dist/umd/popper.min.js"></script>
        <script crossorigin src="https://unpkg.com/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-bootstrap/dist/react-bootstrap.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-router-dom@5.3.4/umd/react-router-dom.min.js"></script>
        <script crossorigin src="https://unpkg.com/ace-builds/src-min-noconflict/ace.js"></script>
        <script crossorigin src="https://unpkg.com/ace-builds/src-min-noconflict/mode-html.js"></script>
        <script crossorigin src="https://unpkg.com/ace-builds/src-min-noconflict/theme-monokai.js"></script>
        <script crossorigin src="https://unpkg.com/react-ace/dist/react-ace.min.js/main.js"></script>
        <script type="text/babel" data-presets="react">
            const { Component, Fragment } = React;
            const { Navbar, Nav, Container, Spinner } = ReactBootstrap;
            const { HashRouter, Switch, Route, Link } = ReactRouterDOM;
            const VERSION = "v1.3";

            class Application extends Component {
                render() {
                    return (
                        <HashRouter>
                            <header>
                                <Navbar bg="light" variant="light">
                                    <Navbar.Brand as={Link} to="/">
                                        <span className="bi-gift-fill"></span> React Standalone Template
                                    </Navbar.Brand>
                                    <Nav>
                                        <Nav.Link as={Link} to="/">Home</Nav.Link>
                                        <Nav.Link as={Link} to="/example">Example</Nav.Link>
                                        <Nav.Link as={Link} to="/version">Version</Nav.Link>
                                    </Nav>
                                </Navbar>
                            </header>
                            <main className="bg-light text-dark m-3 p-2 border rounded-sm">
                                <Switch>
                                    <Route exact path="/" component={HomePage} />
                                    <Route exact path="/example" component={ExamplePage} />
                                    <Route exact path="/version" component={VersionPage} />
                                    <Route component={FourOhFour} />
                                </Switch>
                            </main>
                            <footer className="bg-light text-dark my-3 mx-5 p-2 border rounded-sm text-center">
                                Code is open source, do with it as you will. Just give credit where credit is due.<br />
                                Powered by: <a href="https://getbootstrap.com/" className="bi-bootstrap" target="_blank">&nbsp;Bootstrap</a>, <a href="https://babeljs.io/" target="_blank">Babel</a>, <a href="https://reactjs.org/" target="_blank">React</a>, <a href="https://reactrouter.com/" target="_blank">React Router</a>, <a href="https://jquery.com/" target="_blank">JQuery</a>, <a href="https://popper.js.org/" target="_blank">PopperJS</a>, <a href="https://react-bootstrap.github.io/" target="_blank">React Bootstrap</a>, and <a href="https://ace.c9.io/" target="_blank">Ace Editor</a>/<a href="https://github.com/securingsincity/react-ace" target="_blank">React Ace</a>.<br />
                                <a href="https://github.com/killeand/ReactStandaloneTemplate" className="bi-github" target="_blank">&nbsp;See Project on GitHub.com</a>
                            </footer>
                        </HashRouter>
                    );
                }
            }

            class HomePage extends Component {
                render() {
                    return (
                        <>
                            <p className="title">What is this?</p>
                            <p>This is a webpage that utilizes a few different technologies to become a standalone website application. It uses Bootstrap for simple style and design, Babel so you can use native ES6+ and JSX for your code, React for a rich user and development experience, React Router so you can have a multi-page website, JQuery and PopperJS for Bootstrap features, the React Bootstrap components to make life easier, and Ace Editor/React Ace component for the fancy example page.</p>
                            <p>Of course, you don't have to use Bootstrap, or React Router, or React Boostrap in your application. I am simply using them as a means to an end for this example. The primary purpose is to have an all in one React example that you can use the latest ecmascript and JSX via Babel conversion. And there inlies the primary purpose; all in one. No external files, just a single HTML file that pulls in resources to make your app work.</p>
                            <p className="title">How did you make it?</p>
                            <p>I scanned over the React documentation while learning about it, and something stuck with me while doing their tutorial. They give you some examples without JSX, and then some with. They had you copy and paste the source file locations for babel directly into the page, and I started to experiment. Was it possible to get the same experience with React, as you would with a Node app (when including the toolchains in the project)?</p>
                            <p>Short answer; yes. Long answer; Hell Yeah! Which is good, you just have to make some minor corrections (like for file imports making classes shorthand, adding text/babel to script types, and so on. Minor details.</p>
                            <p>After that, it's a matter of just trying to navigate any of the popular CDN websites that pulls NPM resources, and add them to your header section. As you will note, I am using unpkg.com as that CDN. Other than that, it's really just down to how to you feel like packing all of the code into a single page to work on it. If you would like a short template example instead of ripping all of my example code out, click on the Example link in the menu or open the TemplateExample.html file instead.</p>
                        </>
                    );
                }
            }

            class ExamplePage extends Component {
                render() {
                    return (
                        <>
                            <p className="title">Template Example</p>
                            <ReactAce.default
                                mode="html"
                                theme="monokai"
                                fontSize={14}
                                height="200px"
                                width="100%"
                                readOnly={true}
                                value={`${"<"}!DOCTYPE html>
${"<"}html lang="en">
    ${"<"}head>
        ${"<"}title>React Standalone Template Example${"<"}/title>
        ${"<"}meta charset="UTF-8" />

        ${"<"}style media="all">
            
        ${"<"}/style>
    ${"<"}/head>
    ${"<"}body>
        ${"<"}div id="root">${"<"}/div>
        
        ${"<"}script crossorigin src="https://unpkg.com/@babel/standalone@7.23.2/babel.min.js">${"<"}/script>
        ${"<"}script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.development.js">${"<"}/script>
        ${"<"}script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js">${"<"}/script>
        ${"<"}script crossorigin src="https://unpkg.com/@remix-run/router@1.11.0/dist/router.umd.min.js">${"<"}/script>
        ${"<"}script crossorigin src="https://unpkg.com/react-router@6.18.0/dist/umd/react-router.development.js">${"<"}/script>
        ${"<"}script crossorigin src="https://unpkg.com/react-router-dom@6.18.0/dist/umd/react-router-dom.development.js">${"<"}/script>
        ${"<"}script type="text/babel" data-presets="react">
            const { HashRouter, Routes, Route } = ReactRouterDOM;

            function Application() {
                return (
                    ${"<"}>
                        ${"<"}HashRouter>
                            ${"<"}Routes>
                                ${"<"}Route index path="/" element={${"<"}p>Sample Text${"<"}/p>} />
                            ${"<"}/Routes>
                        ${"<"}/HashRouter>
                    ${"<"}/>
                );
            }

            ReactDOM.createRoot(document.getElementById('root')).render(${"<"}Application />);
        ${"<"}/script>
    ${"<"}/body>
${"<"}/html>`} />
                            <p className="title mt-3">What do I do with this?</p>
                            <p>Simple; just copy and paste that code into an empty html file, and start developing! I have it set up so that there is an initial component called Application that is rendered to the body directly. From there, do as you like.</p>
                        </>
                    );
                }
            }

            class VersionPage extends Component {
                constructor(props) {
                    super(props);

                    this.state = {
                        version: ""
                    };
                }

                componentDidMount() {
                    fetch(`https://api.github.com/repos/killeand/ReactStandaloneTemplate/releases/latest`, {headers:{"accept":"application/vnd.github.v3+json"}}).then((result) => {
                        return result.json();
                    }).then((data) => {
                        if (data) {
                            if (data.tag_name) {
                                this.setState({version:data.tag_name});
                            }
                            else {
                                this.setState({version:"error"});
                            }
                        }
                        else {
                            this.setState({version:"error"});
                        }
                    });
                }

                RenderVersion() {
                    if (this.state.version.length == 0) {
                        return (<p><Spinner animation="border" size="sm" /> Loading from GitHub API</p>);
                    }
                    else {
                        if (this.state.version == "error") {
                            return (<p>There was a problem retrieving the data from GitHub</p>);
                        }
                        else {
                            if (this.state.version == VERSION) {
                                return (<p><span className="font-weight-bold">GitHub Version:</span> {this.state.version} <span className="text-success">Up to date!</span></p>);
                            }
                            else {
                                return (<p><span className="font-weight-bold">GitHub Version:</span> {this.state.version} <span className="text-danger">Out of date!</span></p>);
                            }
                        }
                    }
                }

                render() {
                    return (
                        <>
                            <p className="title">Check Version</p>
                            <p>This application is now checking the <a href="https://github.com/killeand/ReactStandaloneTemplate" target="_blank">GitHub Repository</a> to see if this application needs to be updated.</p>
                            <p><span className="font-weight-bold">This Version:</span> {VERSION}</p>
                            {this.RenderVersion()}
                        </>
                    );
                }
            }

            class FourOhFour extends Component {
                render() {
                    return (
                        <>
                            <p className="title bi-emoji-dizzy">&nbsp;What? A 404 page?!</p>
                            <p>Why?! Why not. It's an all in one website, so we need to handle 404's too. Just like a server.</p>
                        </>
                    );
                }
            }
        </script>
    </head>
    <body class="bg-dark">
        <script type="text/babel">
            ReactDOM.render(<Application />, $("body")[0]);
        </script>
    </body>
</html>